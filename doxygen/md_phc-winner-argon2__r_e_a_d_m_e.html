<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RaiBlocks: Argon2</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">RaiBlocks
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Argon2 </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a href="https://travis-ci.org/P-H-C/phc-winner-argon2"></a> <a href="https://ci.appveyor.com/project/P-H-C/phc-winner-argon2"></a> <a href="https://codecov.io/github/P-H-C/phc-winner-argon2?branch=master"></a></p>
<p>This is the reference C implementation of Argon2, the password-hashing function that won the <a href="https://password-hashing.net">Password Hashing Competition (PHC)</a>.</p>
<p>Argon2 is a password-hashing function that summarizes the state of the art in the design of memory-hard functions and can be used to hash passwords for credential storage, key derivation, or other applications.</p>
<p>It has a simple design aimed at the highest memory filling rate and effective use of multiple computing units, while still providing defense against tradeoff attacks (by exploiting the cache and memory organization of the recent processors).</p>
<p>Argon2 has three variants: Argon2i, Argon2d, and Argon2id. Argon2d is faster and uses data-depending memory access, which makes it highly resistant against GPU cracking attacks and suitable for applications with no threats from side-channel timing attacks (eg. cryptocurrencies). Argon2i instead uses data-independent memory access, which is preferred for password hashing and password-based key derivation, but it is slower as it makes more passes over the memory to protect from tradeoff attacks. Argon2id is a hybrid of Argon2i and Argon2d, using a combination of data-depending and data-independent memory accesses, which gives some of Argon2i's resistance to side-channel cache timing attacks and much of Argon2d's resistance to GPU cracking attacks.</p>
<p>Argon2i, Argon2d, and Argon2id are parametrized by:</p>
<ul>
<li>A <b>time</b> cost, which defines the amount of computation realized and therefore the execution time, given in number of iterations</li>
<li>A <b>memory</b> cost, which defines the memory usage, given in kibibytes</li>
<li>A <b>parallelism</b> degree, which defines the number of parallel threads</li>
</ul>
<p>The <a href="argon2-specs.pdf">Argon2 document</a> gives detailed specs and design rationale.</p>
<p>Please report bugs as issues on this repository.</p>
<h2>Usage</h2>
<p><code>make</code> builds the executable <code>argon2</code>, the static library <code>libargon2.a</code>, and the shared library <code>libargon2.so</code> (or <code>libargon2.dylib</code> on OSX). Make sure to run <code>make test</code> to verify that your build produces valid results. <code>make install PREFIX=/usr</code> installs it to your system.</p>
<h3>Command-line utility</h3>
<p><code>argon2</code> is a command-line utility to test specific Argon2 instances on your system. To show usage instructions, run <code>./argon2 -h</code> as </p><div class="fragment"><div class="line">Usage:  ./argon2 [-h] salt [-i|-d|-id] [-t iterations] [-m memory] [-p parallelism] [-l hash length] [-e|-r] [-v (10|13)]</div><div class="line">        Password is read from stdin</div><div class="line">Parameters:</div><div class="line">        salt            The salt to use, at least 8 characters</div><div class="line">        -i              Use Argon2i (this is the default)</div><div class="line">        -d              Use Argon2d instead of Argon2i</div><div class="line">        -id             Use Argon2id instead of Argon2i</div><div class="line">        -t N            Sets the number of iterations to N (default = 3)</div><div class="line">        -m N            Sets the memory usage of 2^N KiB (default 12)</div><div class="line">        -p N            Sets parallelism to N threads (default 1)</div><div class="line">        -l N            Sets hash output length to N bytes (default 32)</div><div class="line">        -e              Output only encoded hash</div><div class="line">        -r              Output only the raw bytes of the hash</div><div class="line">        -v (10|13)      Argon2 version (defaults to the most recent version, currently 13)</div><div class="line">        -h              Print argon2 usage</div></div><!-- fragment --><p> For example, to hash "password" using "somesalt" as a salt and doing 2 iterations, consuming 64 MiB, using four parallel threads and an output hash of 24 bytes </p><div class="fragment"><div class="line">$ echo -n &quot;password&quot; | ./argon2 somesalt -t 2 -m 16 -p 4 -l 24</div><div class="line">Type:           Argon2i</div><div class="line">Iterations:     2</div><div class="line">Memory:         65536 KiB</div><div class="line">Parallelism:    4</div><div class="line">Hash:           45d7ac72e76f242b20b77b9bf9bf9d5915894e669a24e6c6</div><div class="line">Encoded:        $argon2i$v=19$m=65536,t=2,p=4$c29tZXNhbHQ$RdescudvJCsgt3ub+b+dWRWJTmaaJObG</div><div class="line">0.188 seconds</div><div class="line">Verification ok</div></div><!-- fragment --><h3>Library</h3>
<p><code>libargon2</code> provides an API to both low-level and high-level functions for using Argon2.</p>
<p>The example program below hashes the string "password" with Argon2i using the high-level API and then using the low-level API. While the high-level API takes the three cost parameters (time, memory, and parallelism), the password input buffer, the salt input buffer, and the output buffers, the low-level API takes in these and additional parameters , as defined in <a href="include/argon2.h"><code>include/argon2.h</code></a>.</p>
<p>There are many additional parameters, but we will highlight three of them here.</p>
<ol type="1">
<li>The <code>secret</code> parameter, which is used for <a href="https://en.wikipedia.org/wiki/Hash-based_message_authentication_code">keyed hashing</a>. This allows a secret key to be input at hashing time (from some external location) and be folded into the value of the hash. This means that even if your salts and hashes are compromized, an attacker cannot brute-force to find the password without the key.</li>
<li>The <code>ad</code> parameter, which is used to fold any additional data into the hash value. Functionally, this behaves almost exactly like the <code>secret</code> or <code>salt</code> parameters; the <code>ad</code> parameter is folding into the value of the hash. However, this parameter is used for different data. The <code>salt</code> should be a random string stored alongside your password. The <code>secret</code> should be a random key only usable at hashing time. The <code>ad</code> is for any other data.</li>
<li>The <code>flags</code> parameter, which determines which memory should be securely erased. This is useful if you want to securly delete the <code>pwd</code> or <code>secret</code> fields right after they are used. To do this set <code>flags</code> to either <code>ARGON2_FLAG_CLEAR_PASSWORD</code> or <code>ARGON2_FLAG_CLEAR_SECRET</code>. To change how internal memory is cleared, change the global flag <code>FLAG_clear_internal_memory</code> (defaults to clearing internal memory).</li>
</ol>
<p>Here the time cost <code>t_cost</code> is set to 2 iterations, the memory cost <code>m_cost</code> is set to 2<sup>16</sup> kibibytes (64 mebibytes), and parallelism is set to 1 (single-thread).</p>
<p>Compile for example as <code>gcc test.c libargon2.a -Isrc -o test</code>, if the program below is named <code>test.c</code> and placed in the project's root directory.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;argon2.h&quot;</span></div><div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;string.h&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;stdlib.h&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#define HASHLEN 32</span></div><div class="line"><span class="preprocessor">#define SALTLEN 16</span></div><div class="line"><span class="preprocessor">#define PWD &quot;password&quot;</span></div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">void</span>)</div><div class="line">{</div><div class="line">    uint8_t hash1[HASHLEN];</div><div class="line">    uint8_t hash2[HASHLEN];</div><div class="line"></div><div class="line">    uint8_t salt[SALTLEN];</div><div class="line">    memset( salt, 0x00, SALTLEN );</div><div class="line"></div><div class="line">    uint8_t *pwd = (uint8_t *)strdup(PWD);</div><div class="line">    uint32_t pwdlen = strlen((<span class="keywordtype">char</span> *)pwd);</div><div class="line"></div><div class="line">    uint32_t t_cost = 2;            <span class="comment">// 1-pass computation</span></div><div class="line">    uint32_t m_cost = (1&lt;&lt;16);      <span class="comment">// 64 mebibytes memory usage</span></div><div class="line">    uint32_t parallelism = 1;       <span class="comment">// number of threads and lanes</span></div><div class="line"></div><div class="line">    <span class="comment">// high-level API</span></div><div class="line">    argon2i_hash_raw(t_cost, m_cost, parallelism, pwd, pwdlen, salt, SALTLEN, hash1, HASHLEN);</div><div class="line"></div><div class="line">    <span class="comment">// low-level API</span></div><div class="line">    <a class="code" href="struct_argon2___context.html">argon2_context</a> context = {</div><div class="line">        hash2,  <span class="comment">/* output array, at least HASHLEN in size */</span></div><div class="line">        HASHLEN, <span class="comment">/* digest length */</span></div><div class="line">        pwd, <span class="comment">/* password array */</span></div><div class="line">        pwdlen, <span class="comment">/* password length */</span></div><div class="line">        salt,  <span class="comment">/* salt array */</span></div><div class="line">        SALTLEN, <span class="comment">/* salt length */</span></div><div class="line">        NULL, 0, <span class="comment">/* optional secret data */</span></div><div class="line">        NULL, 0, <span class="comment">/* optional associated data */</span></div><div class="line">        t_cost, m_cost, parallelism, parallelism,</div><div class="line">        ARGON2_VERSION_13, <span class="comment">/* algorithm version */</span></div><div class="line">        NULL, NULL, <span class="comment">/* custom memory allocation / deallocation functions */</span></div><div class="line">        <span class="comment">/* by default only internal memory is cleared (pwd is not wiped) */</span></div><div class="line">        ARGON2_DEFAULT_FLAGS</div><div class="line">    };</div><div class="line"></div><div class="line">    <span class="keywordtype">int</span> rc = argon2i_ctx( &amp;context );</div><div class="line">    <span class="keywordflow">if</span>(ARGON2_OK != rc) {</div><div class="line">        printf(<span class="stringliteral">&quot;Error: %s\n&quot;</span>, argon2_error_message(rc));</div><div class="line">        exit(1);</div><div class="line">    }</div><div class="line">    free(pwd);</div><div class="line"></div><div class="line">    <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i=0; i&lt;HASHLEN; ++i ) printf( <span class="stringliteral">&quot;%02x&quot;</span>, hash1[i] ); printf( <span class="stringliteral">&quot;\n&quot;</span> );</div><div class="line">    <span class="keywordflow">if</span> (memcmp(hash1, hash2, HASHLEN)) {</div><div class="line">        <span class="keywordflow">for</span>( <span class="keywordtype">int</span> i=0; i&lt;HASHLEN; ++i ) {</div><div class="line">            printf( <span class="stringliteral">&quot;%02x&quot;</span>, hash2[i] );</div><div class="line">        }</div><div class="line">        printf(<span class="stringliteral">&quot;\nfail\n&quot;</span>);</div><div class="line">    }</div><div class="line">    <span class="keywordflow">else</span> printf(<span class="stringliteral">&quot;ok\n&quot;</span>);</div><div class="line">    <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --><p>To use Argon2d instead of Argon2i call <code>argon2d_hash</code> instead of <code>argon2i_hash</code> using the high-level API, and <code>argon2d</code> instead of <code>argon2i</code> using the low-level API. Similarly for Argon2id, call <code>argond2id_hash</code> and <code>argon2id</code>.</p>
<p>To produce the crypt-like encoding rather than the raw hash, call <code>argon2i_hash_encoded</code> for Argon2i, <code>argon2d_hash_encoded</code> for Argon2d, and <code>argon2id_hash_encoded</code> for Argon2id</p>
<p>See <a href="include/argon2.h"><code>include/argon2.h</code></a> for API details.</p>
<p>*Note: in this example the salt is set to the all-<code>0x00</code> string for the sake of simplicity, but in your application you should use a random salt.*</p>
<h3>Benchmarks</h3>
<p><code>make bench</code> creates the executable <code>bench</code>, which measures the execution time of various Argon2 instances:</p>
<div class="fragment"><div class="line">$ ./bench</div><div class="line">Argon2d 1 iterations  1 MiB 1 threads:  5.91 cpb 5.91 Mcycles</div><div class="line">Argon2i 1 iterations  1 MiB 1 threads:  4.64 cpb 4.64 Mcycles</div><div class="line">0.0041 seconds</div><div class="line"></div><div class="line">Argon2d 1 iterations  1 MiB 2 threads:  2.76 cpb 2.76 Mcycles</div><div class="line">Argon2i 1 iterations  1 MiB 2 threads:  2.87 cpb 2.87 Mcycles</div><div class="line">0.0038 seconds</div><div class="line"></div><div class="line">Argon2d 1 iterations  1 MiB 4 threads:  3.25 cpb 3.25 Mcycles</div><div class="line">Argon2i 1 iterations  1 MiB 4 threads:  3.57 cpb 3.57 Mcycles</div><div class="line">0.0048 seconds</div><div class="line"></div><div class="line">(...)</div><div class="line"></div><div class="line">Argon2d 1 iterations  4096 MiB 2 threads:  2.15 cpb 8788.08 Mcycles</div><div class="line">Argon2i 1 iterations  4096 MiB 2 threads:  2.15 cpb 8821.59 Mcycles</div><div class="line">13.0112 seconds</div><div class="line"></div><div class="line">Argon2d 1 iterations  4096 MiB 4 threads:  1.79 cpb 7343.72 Mcycles</div><div class="line">Argon2i 1 iterations  4096 MiB 4 threads:  2.72 cpb 11124.86 Mcycles</div><div class="line">19.3974 seconds</div><div class="line"></div><div class="line">(...)</div></div><!-- fragment --><h2>Bindings</h2>
<p>Bindings are available for the following languages (make sure to read their documentation):</p>
<ul>
<li><a href="https://github.com/riverrun/argon2_elixir">Elixir</a> by <a href="https://github.com/riverrun"></a></li>
<li><a href="https://github.com/tvdburgt/go-argon2">Go</a> by <a href="https://github.com/tvdburgt"></a></li>
<li><a href="https://hackage.haskell.org/package/argon2-1.0.0/docs/Crypto-Argon2.html">Haskell</a> by <a href="https://github.com/ocharles"></a></li>
<li><a href="https://github.com/ranisalt/node-argon2">JavaScript (native)</a>, by <a href="https://github.com/ranisalt"></a></li>
<li><a href="https://github.com/jdconley/argon2themax">JavaScript (native)</a>, by <a href="https://github.com/jdconley"></a></li>
<li><a href="https://github.com/cjlarose/argon2-ffi">JavaScript (ffi)</a>, by <a href="https://github.com/cjlarose"></a></li>
<li><a href="https://github.com/antelle/argon2-browser">JavaScript (browser)</a>, by <a href="https://github.com/antelle"></a></li>
<li><a href="https://github.com/phxql/argon2-jvm">JVM</a> by <a href="https://github.com/phxql"></a></li>
<li><a href="https://github.com/thibaultCha/lua-argon2">Lua (native)</a> by <a href="https://github.com/thibaultCha"></a></li>
<li><a href="https://github.com/thibaultCha/lua-argon2-ffi">Lua (ffi)</a> by <a href="https://github.com/thibaultCha"></a></li>
<li><a href="https://github.com/Khady/ocaml-argon2">OCaml</a> by <a href="https://github.com/Khady"></a></li>
<li><a href="https://pypi.python.org/pypi/argon2">Python (native)</a>, by <a href="https://github.com/flamewow"></a></li>
<li><a href="https://pypi.python.org/pypi/argon2_cffi">Python (ffi)</a>, by <a href="https://github.com/hynek"></a></li>
<li><a href="https://github.com/thusoy/porridge">Python (ffi, with keyed hashing)</a>, by <a href="https://github.com/thusoy"></a></li>
<li><a href="https://cran.r-project.org/package=argon2">R</a> by <a href="https://github.com/wrathematics"></a></li>
<li><a href="https://github.com/technion/ruby-argon2">Ruby</a> by <a href="https://github.com/technion"></a></li>
<li><a href="https://github.com/quininer/argon2-rs">Rust</a> by <a href="https://github.com/quininer"></a></li>
<li><a href="https://github.com/kmaragon/Konscious.Security.Cryptography">C#/.NET CoreCLR</a> by <a href="https://github.com/kmaragon"></a></li>
<li><a href="https://github.com/Leont/crypt-argon2">Perl</a> by <a href="https://github.com/Leont"></a></li>
<li><a href="https://github.com/Asmod4n/mruby-argon2">mruby</a> by <a href="https://github.com/Asmod4n"></a></li>
</ul>
<h2>Test suite</h2>
<p>There are two sets of test suites. One is a low level test for the hash function, the other tests the higher level API. Both of these are built and executed by running:</p>
<p><code>make test</code></p>
<h2>Intellectual property</h2>
<p>Except for the components listed below, the Argon2 code in this repository is copyright (c) 2015 Daniel Dinu, Dmitry Khovratovich (main authors), Jean-Philippe Aumasson and Samuel Neves, and dual licensed under the <a href="https://creativecommons.org/about/cc0">CC0 License</a> and the <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache 2.0 License</a>. For more info see the LICENSE file.</p>
<p>The string encoding routines in <a href="src/encoding.c"><code>src/encoding.c</code></a> are copyright (c) 2015 Thomas Pornin, and under <a href="https://creativecommons.org/about/cc0">CC0 License</a>.</p>
<p>The BLAKE2 code in <a href="src/blake2"><code>src/blake2/</code></a> is copyright (c) Samuel Neves, 2013-2015, and under <a href="https://creativecommons.org/about/cc0">CC0 License</a>.</p>
<p>All licenses are therefore GPL-compatible. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>

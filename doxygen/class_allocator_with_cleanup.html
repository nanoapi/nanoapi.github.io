<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RaiBlocks: AllocatorWithCleanup&lt; T, T_Align16 &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">RaiBlocks
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_allocator_with_cleanup-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">AllocatorWithCleanup&lt; T, T_Align16 &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Allocates a block of memory with cleanup.  
 <a href="class_allocator_with_cleanup.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="secblock_8h_source.html">secblock.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for AllocatorWithCleanup&lt; T, T_Align16 &gt;:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_allocator_with_cleanup.png" usemap="#AllocatorWithCleanup_3C_20T_2C_20T_5FAlign16_20_3E_map" alt=""/>
  <map id="AllocatorWithCleanup_3C_20T_2C_20T_5FAlign16_20_3E_map" name="AllocatorWithCleanup_3C_20T_2C_20T_5FAlign16_20_3E_map">
<area href="class_allocator_base.html" title="Base class for all allocators used by SecBlock. " alt="AllocatorBase&lt; T &gt;" shape="rect" coords="0,0,231,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_allocator_with_cleanup_1_1rebind.html">rebind</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Template class memeber Rebind.  <a href="struct_allocator_with_cleanup_1_1rebind.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a785819e0c77e515e1bbe0c6629db38c5"><td class="memItemLeft" align="right" valign="top">CRYPTOPP_INHERIT_ALLOCATOR_TYPES pointer&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_allocator_with_cleanup.html#a785819e0c77e515e1bbe0c6629db38c5">allocate</a> (size_type size, const void *ptr=NULLPTR)</td></tr>
<tr class="memdesc:a785819e0c77e515e1bbe0c6629db38c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocates a block of memory.  <a href="#a785819e0c77e515e1bbe0c6629db38c5">More...</a><br /></td></tr>
<tr class="separator:a785819e0c77e515e1bbe0c6629db38c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6ccfc3c9d795472dcc124db72d869de"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_allocator_with_cleanup.html#ad6ccfc3c9d795472dcc124db72d869de">deallocate</a> (void *ptr, size_type size)</td></tr>
<tr class="memdesc:ad6ccfc3c9d795472dcc124db72d869de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deallocates a block of memory.  <a href="#ad6ccfc3c9d795472dcc124db72d869de">More...</a><br /></td></tr>
<tr class="separator:ad6ccfc3c9d795472dcc124db72d869de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bab07468ba0f4df72cb962c337e4c7a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_allocator_with_cleanup.html#a2bab07468ba0f4df72cb962c337e4c7a">deallocate</a> (void *ptr, size_type size, size_type mark)</td></tr>
<tr class="memdesc:a2bab07468ba0f4df72cb962c337e4c7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deallocates a block of memory.  <a href="#a2bab07468ba0f4df72cb962c337e4c7a">More...</a><br /></td></tr>
<tr class="separator:a2bab07468ba0f4df72cb962c337e4c7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9741e2fbdf763739af65bd7c3fb825a"><td class="memItemLeft" align="right" valign="top">pointer&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_allocator_with_cleanup.html#ac9741e2fbdf763739af65bd7c3fb825a">reallocate</a> (T *oldPtr, size_type oldSize, size_type newSize, bool preserve)</td></tr>
<tr class="memdesc:ac9741e2fbdf763739af65bd7c3fb825a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reallocates a block of memory.  <a href="#ac9741e2fbdf763739af65bd7c3fb825a">More...</a><br /></td></tr>
<tr class="separator:ac9741e2fbdf763739af65bd7c3fb825a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_class_allocator_base"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_class_allocator_base')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="class_allocator_base.html">AllocatorBase&lt; T &gt;</a></td></tr>
<tr class="memitem:a9d7ddf797b14ff38e335357759cf0b8b inherit pub_methods_class_allocator_base"><td class="memItemLeft" align="right" valign="top"><a id="a9d7ddf797b14ff38e335357759cf0b8b"></a>
pointer&#160;</td><td class="memItemRight" valign="bottom"><b>address</b> (reference r) const</td></tr>
<tr class="separator:a9d7ddf797b14ff38e335357759cf0b8b inherit pub_methods_class_allocator_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a731d970fd5b1adb9f87b4cfe81121d74 inherit pub_methods_class_allocator_base"><td class="memItemLeft" align="right" valign="top"><a id="a731d970fd5b1adb9f87b4cfe81121d74"></a>
const_pointer&#160;</td><td class="memItemRight" valign="bottom"><b>address</b> (const_reference r) const</td></tr>
<tr class="separator:a731d970fd5b1adb9f87b4cfe81121d74 inherit pub_methods_class_allocator_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4816881defdf38aa120c70a03b7da903 inherit pub_methods_class_allocator_base"><td class="memItemLeft" align="right" valign="top"><a id="a4816881defdf38aa120c70a03b7da903"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>construct</b> (pointer p, const T &amp;val)</td></tr>
<tr class="separator:a4816881defdf38aa120c70a03b7da903 inherit pub_methods_class_allocator_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a740cc02314cba092678ab0545fa6967b inherit pub_methods_class_allocator_base"><td class="memItemLeft" align="right" valign="top"><a id="a740cc02314cba092678ab0545fa6967b"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>destroy</b> (pointer p)</td></tr>
<tr class="separator:a740cc02314cba092678ab0545fa6967b inherit pub_methods_class_allocator_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa2c250e8ab35b36d455874466eb6288 inherit pub_methods_class_allocator_base"><td class="memItemLeft" align="right" valign="top">CRYPTOPP_CONSTEXPR size_type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_allocator_base.html#afa2c250e8ab35b36d455874466eb6288">max_size</a> () const</td></tr>
<tr class="memdesc:afa2c250e8ab35b36d455874466eb6288 inherit pub_methods_class_allocator_base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the maximum number of elements the allocator can provide.  <a href="class_allocator_base.html#afa2c250e8ab35b36d455874466eb6288">More...</a><br /></td></tr>
<tr class="separator:afa2c250e8ab35b36d455874466eb6288 inherit pub_methods_class_allocator_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_types_class_allocator_base"><td colspan="2" onclick="javascript:toggleInherit('pub_types_class_allocator_base')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="class_allocator_base.html">AllocatorBase&lt; T &gt;</a></td></tr>
<tr class="memitem:a461f6d214f73761bb656a76db8f608c0 inherit pub_types_class_allocator_base"><td class="memItemLeft" align="right" valign="top"><a id="a461f6d214f73761bb656a76db8f608c0"></a>
typedef T&#160;</td><td class="memItemRight" valign="bottom"><b>value_type</b></td></tr>
<tr class="separator:a461f6d214f73761bb656a76db8f608c0 inherit pub_types_class_allocator_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adda200f657efdba2d08e80ee9a7f244d inherit pub_types_class_allocator_base"><td class="memItemLeft" align="right" valign="top"><a id="adda200f657efdba2d08e80ee9a7f244d"></a>
typedef size_t&#160;</td><td class="memItemRight" valign="bottom"><b>size_type</b></td></tr>
<tr class="separator:adda200f657efdba2d08e80ee9a7f244d inherit pub_types_class_allocator_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10c1b15630e208c28183b72debcff98c inherit pub_types_class_allocator_base"><td class="memItemLeft" align="right" valign="top"><a id="a10c1b15630e208c28183b72debcff98c"></a>
typedef std::ptrdiff_t&#160;</td><td class="memItemRight" valign="bottom"><b>difference_type</b></td></tr>
<tr class="separator:a10c1b15630e208c28183b72debcff98c inherit pub_types_class_allocator_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a719f87a9b5da234dbc8c8c1c88be253c inherit pub_types_class_allocator_base"><td class="memItemLeft" align="right" valign="top"><a id="a719f87a9b5da234dbc8c8c1c88be253c"></a>
typedef T *&#160;</td><td class="memItemRight" valign="bottom"><b>pointer</b></td></tr>
<tr class="separator:a719f87a9b5da234dbc8c8c1c88be253c inherit pub_types_class_allocator_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ac778a475e77ea22ff8e7bea2aa983e inherit pub_types_class_allocator_base"><td class="memItemLeft" align="right" valign="top"><a id="a3ac778a475e77ea22ff8e7bea2aa983e"></a>
typedef const T *&#160;</td><td class="memItemRight" valign="bottom"><b>const_pointer</b></td></tr>
<tr class="separator:a3ac778a475e77ea22ff8e7bea2aa983e inherit pub_types_class_allocator_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a151889fd23094bf841959ab226708f83 inherit pub_types_class_allocator_base"><td class="memItemLeft" align="right" valign="top"><a id="a151889fd23094bf841959ab226708f83"></a>
typedef T &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>reference</b></td></tr>
<tr class="separator:a151889fd23094bf841959ab226708f83 inherit pub_types_class_allocator_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ad08c82939fd8b18621a1d870a0d10e inherit pub_types_class_allocator_base"><td class="memItemLeft" align="right" valign="top"><a id="a3ad08c82939fd8b18621a1d870a0d10e"></a>
typedef const T &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>const_reference</b></td></tr>
<tr class="separator:a3ad08c82939fd8b18621a1d870a0d10e inherit pub_types_class_allocator_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_static_methods_class_allocator_base"><td colspan="2" onclick="javascript:toggleInherit('pro_static_methods_class_allocator_base')"><img src="closed.png" alt="-"/>&#160;Static Protected Member Functions inherited from <a class="el" href="class_allocator_base.html">AllocatorBase&lt; T &gt;</a></td></tr>
<tr class="memitem:ab77d37fb1f8445b9752fa92550e0c003 inherit pro_static_methods_class_allocator_base"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_allocator_base.html#ab77d37fb1f8445b9752fa92550e0c003">CheckSize</a> (size_t size)</td></tr>
<tr class="memdesc:ab77d37fb1f8445b9752fa92550e0c003 inherit pro_static_methods_class_allocator_base"><td class="mdescLeft">&#160;</td><td class="mdescRight">Verifies the allocator can satisfy a request based on size.  <a href="class_allocator_base.html#ab77d37fb1f8445b9752fa92550e0c003">More...</a><br /></td></tr>
<tr class="separator:ab77d37fb1f8445b9752fa92550e0c003 inherit pro_static_methods_class_allocator_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;class T, bool T_Align16 = false&gt;<br />
class AllocatorWithCleanup&lt; T, T_Align16 &gt;</h3>

<p>Allocates a block of memory with cleanup. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>class or type </td></tr>
    <tr><td class="paramname">T_Align16</td><td>boolean that determines whether allocations should be aligned on a 16-byte boundary</td></tr>
  </table>
  </dd>
</dl>
<p>If T_Align16 is true, then <a class="el" href="class_allocator_with_cleanup.html" title="Allocates a block of memory with cleanup. ">AllocatorWithCleanup</a> calls AlignedAllocate() for memory allocations. If T_Align16 is false, then <a class="el" href="class_allocator_with_cleanup.html" title="Allocates a block of memory with cleanup. ">AllocatorWithCleanup()</a> calls <a class="el" href="misc_8h.html#acf0175d502d0936c6692e39fc976a294" title="Allocates a buffer. ">UnalignedAllocate()</a> for memory allocations.</p>
<p>Template parameter T_Align16 is effectively controlled by <a class="el" href="cryptlib_8h.html" title="Abstract base classes that provide a uniform interface to this library. ">cryptlib.h</a> and mirrors CRYPTOPP_BOOL_ALIGN16. CRYPTOPP_BOOL_ALIGN16 is often used as the template parameter. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a785819e0c77e515e1bbe0c6629db38c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a785819e0c77e515e1bbe0c6629db38c5">&#9670;&nbsp;</a></span>allocate()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T, bool T_Align16 = false&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">CRYPTOPP_INHERIT_ALLOCATOR_TYPES pointer <a class="el" href="class_allocator_with_cleanup.html">AllocatorWithCleanup</a>&lt; T, T_Align16 &gt;::allocate </td>
          <td>(</td>
          <td class="paramtype">size_type&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>ptr</em> = <code>NULLPTR</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Allocates a block of memory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptr</td><td>the size of the allocation </td></tr>
    <tr><td class="paramname">size</td><td>the size of the allocation, in elements </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a memory block </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="class_invalid_argument.html" title="An invalid argument was detected. ">InvalidArgument</a></td><td></td></tr>
  </table>
  </dd>
</dl>
<p><a class="el" href="class_allocator_with_cleanup.html#a785819e0c77e515e1bbe0c6629db38c5" title="Allocates a block of memory. ">allocate()</a> first checks the size of the request. If it is non-0 and less than <a class="el" href="class_allocator_base.html#afa2c250e8ab35b36d455874466eb6288" title="Returns the maximum number of elements the allocator can provide. ">max_size()</a>, then an attempt is made to fulfill the request using either AlignedAllocate() or <a class="el" href="misc_8h.html#acf0175d502d0936c6692e39fc976a294" title="Allocates a buffer. ">UnalignedAllocate()</a>.</p>
<p>AlignedAllocate() is used if T_Align16 is true. <a class="el" href="misc_8h.html#acf0175d502d0936c6692e39fc976a294" title="Allocates a buffer. ">UnalignedAllocate()</a> used if T_Align16 is false.</p>
<p>This is the C++ <em>Placement New</em> operator. ptr is not used, and the function CRYPTOPP_ASSERTs in Debug builds if ptr is non-NULL. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="misc_8h.html#ab0f5dcab97ccb3e9449d487dd37ffc7a" title="Attempts to reclaim unused memory. ">CallNewHandler()</a> for the methods used to recover from a failed allocation attempt. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>size is the count of elements, and not the number of bytes </dd></dl>

</div>
</div>
<a id="ad6ccfc3c9d795472dcc124db72d869de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6ccfc3c9d795472dcc124db72d869de">&#9670;&nbsp;</a></span>deallocate() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T, bool T_Align16 = false&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_allocator_with_cleanup.html">AllocatorWithCleanup</a>&lt; T, T_Align16 &gt;::deallocate </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_type&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Deallocates a block of memory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptr</td><td>the pointer for the allocation </td></tr>
    <tr><td class="paramname">size</td><td>the size of the allocation, in elements</td></tr>
  </table>
  </dd>
</dl>
<p>Internally, <a class="el" href="misc_8h.html#a4994f3480634e5f1435fd71f9b652c38" title="Sets each element of an array to 0. ">SecureWipeArray()</a> is called before deallocating the memory. Once the memory block is wiped or zeroized, AlignedDeallocate() or <a class="el" href="misc_8h.html#a55427b31e548a01ab518279b60cee025" title="Frees a buffer allocated with UnalignedAllocate. ">UnalignedDeallocate()</a> is called.</p>
<p>AlignedDeallocate() is used if T_Align16 is true. <a class="el" href="misc_8h.html#a55427b31e548a01ab518279b60cee025" title="Frees a buffer allocated with UnalignedAllocate. ">UnalignedDeallocate()</a> used if T_Align16 is false. </p>

</div>
</div>
<a id="a2bab07468ba0f4df72cb962c337e4c7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2bab07468ba0f4df72cb962c337e4c7a">&#9670;&nbsp;</a></span>deallocate() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T, bool T_Align16 = false&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_allocator_with_cleanup.html">AllocatorWithCleanup</a>&lt; T, T_Align16 &gt;::deallocate </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_type&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_type&#160;</td>
          <td class="paramname"><em>mark</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Deallocates a block of memory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ptr</td><td>the pointer for the allocation </td></tr>
    <tr><td class="paramname">size</td><td>the size of the allocation, in elements </td></tr>
    <tr><td class="paramname">mark</td><td>the count elements to zeroize</td></tr>
  </table>
  </dd>
</dl>
<p>Internally, <a class="el" href="misc_8h.html#a4994f3480634e5f1435fd71f9b652c38" title="Sets each element of an array to 0. ">SecureWipeArray()</a> is called before deallocating the memory. Once the memory block is wiped or zeroized, AlignedDeallocate() or <a class="el" href="misc_8h.html#a55427b31e548a01ab518279b60cee025" title="Frees a buffer allocated with UnalignedAllocate. ">UnalignedDeallocate()</a> is called.</p>
<p>AlignedDeallocate() is used if T_Align16 is true. <a class="el" href="misc_8h.html#a55427b31e548a01ab518279b60cee025" title="Frees a buffer allocated with UnalignedAllocate. ">UnalignedDeallocate()</a> used if T_Align16 is false. </p>

</div>
</div>
<a id="ac9741e2fbdf763739af65bd7c3fb825a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9741e2fbdf763739af65bd7c3fb825a">&#9670;&nbsp;</a></span>reallocate()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T, bool T_Align16 = false&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">pointer <a class="el" href="class_allocator_with_cleanup.html">AllocatorWithCleanup</a>&lt; T, T_Align16 &gt;::reallocate </td>
          <td>(</td>
          <td class="paramtype">T *&#160;</td>
          <td class="paramname"><em>oldPtr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_type&#160;</td>
          <td class="paramname"><em>oldSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_type&#160;</td>
          <td class="paramname"><em>newSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>preserve</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reallocates a block of memory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">oldPtr</td><td>the previous allocation </td></tr>
    <tr><td class="paramname">oldSize</td><td>the size of the previous allocation </td></tr>
    <tr><td class="paramname">newSize</td><td>the new, requested size </td></tr>
    <tr><td class="paramname">preserve</td><td>flag that indicates if the old allocation should be preserved </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>pointer to the new memory block</dd></dl>
<p>Internally, <a class="el" href="class_allocator_with_cleanup.html#ac9741e2fbdf763739af65bd7c3fb825a" title="Reallocates a block of memory. ">reallocate()</a> calls <a class="el" href="secblock_8h.html#a2fc63f3c7dfc5657fe8a12d16acdfb17" title="Reallocation function. ">StandardReallocate()</a>.</p>
<p>If preserve is true, then index 0 is used to begin copying the old memory block to the new one. If the block grows, then the old array is copied in its entirety. If the block shrinks, then only newSize elements are copied from the old block to the new one. </p><dl class="section note"><dt>Note</dt><dd>oldSize and newSize are the count of elements, and not the number of bytes. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>cryptopp/<a class="el" href="secblock_8h_source.html">secblock.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
